(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{515:function(t,s,a){"use strict";a.r(s);var n=a(8),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[a("img",{attrs:{src:"/images/2019/07/21/ep5OIJ.png",alt:"ep5OIJ.png",width:"1200",height:"415",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"å‰è¨€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[t._v("#")]),t._v(" å‰è¨€")]),t._v(" "),a("blockquote",[a("p",[t._v("RxJS æ˜¯ä½¿ç”¨ Observables çš„å“åº”å¼ç¼–ç¨‹çš„åº“ï¼Œå®ƒä½¿ç¼–å†™å¼‚æ­¥æˆ–åŸºäºå›è°ƒçš„ä»£ç æ›´å®¹æ˜“ã€‚è¿™ä¸ªé¡¹ç›®æ˜¯ Reactive-Extensions/RxJS(RxJS 4) çš„é‡å†™ï¼Œå…·æœ‰æ›´å¥½çš„æ€§èƒ½ã€æ›´å¥½çš„æ¨¡å—æ€§ã€æ›´å¥½çš„å¯è°ƒè¯•è°ƒç”¨å †æ ˆï¼ŒåŒæ—¶ä¿æŒå¤§éƒ¨åˆ†å‘åå…¼å®¹ï¼Œåªæœ‰ä¸€äº›ç ´åæ€§çš„å˜æ›´(breaking changes)æ˜¯ä¸ºäº†å‡å°‘å¤–å±‚çš„ APIï¼Œå®˜æ–¹æ–‡æ¡£ç§°æ˜¯èƒ½ä¼˜é›…åœ°è§£å†³å¼‚æ­¥é—®é¢˜çš„ lodashã€‚")])]),t._v(" "),a("p",[t._v("ç²—ç•¥äº†è§£äº†ä¸€ä¸‹æ„Ÿè§‰è¯´ rxjs æ˜¯è§£å†³å¼‚æ­¥é—®é¢˜çš„ loadash ä¸å¤ªå‡†ç¡®ï¼Œå› ä¸º async.js æ‰æ˜¯è§£å†³å¼‚æ­¥é—®é¢˜çš„ lodashã€‚rxjs æ›´åƒä¸€ç§çŠ¶æ€ç®¡ç†åº“ã€‚ä¸è¿‡å¹¶æ²¡æœ‰çƒ­é—¨çš„ rxjs-react ä¹‹ç±»çš„åº“å®ç°å¯¹ React ç»„ä»¶çš„çŠ¶æ€æ³¨å…¥ã€‚å€’æ˜¯ redux çš„ä¸­é—´ä»¶ - redux-observable è·Ÿ rxjs è”ç³»è¾ƒç´§å¯†ã€‚")]),t._v(" "),a("h2",{attrs:{id:"observable-åˆ›å»ºå¯è§‚å¯Ÿå¯¹è±¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#observable-åˆ›å»ºå¯è§‚å¯Ÿå¯¹è±¡"}},[t._v("#")]),t._v(" Observable - åˆ›å»ºå¯è§‚å¯Ÿå¯¹è±¡")]),t._v(" "),a("p",[a("strong",[t._v("create")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Observable "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rxjs'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" hello "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Observable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("observer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  observer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  observer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'World'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¾“å‡º: 'Hello'...'World'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" subscribe "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" hello"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("val")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("è¿™ä¸ª create æ˜¯æ¯”è¾ƒéš¾ç†è§£çš„ä¸€ç‚¹ã€‚å› ä¸ºé€šå¸¸çš„æ•°æ®è§‚å¯Ÿåº“åƒ redux, mobx, dobjs, è¿˜æœ‰ vue é‡Œé¢çš„åŒå‘ç»‘å®šåˆ›å»ºçš„å¾€å¾€æ˜¯ä¸€ä¸ªå¯è§‚å¯Ÿå¯¹è±¡ã€‚")]),t._v(" "),a("p",[t._v("ä»¥ mobx ä¸ºä¾‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" observable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" computed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reaction "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mobx'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" store "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  @observable store "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  @computed "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("count")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("store"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  @action "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("addcount")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("store"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reaction")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" store"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reaction")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// reaction.dispose() // åªå“åº”ä¸€æ¬¡")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("addcount")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  store"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addcount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n")])])]),a("p",[t._v("ç„¶è€Œ RxJS ä¸»å¼ æµå¼æ•°æ®å’Œé“¾å¼æ“ä½œï¼Œå› æ­¤å’Œå¸¸è§„æ–¹æ³•ä¸å¤ªç›¸åŒã€‚ä¸Šè¿° create çš„å†™æ³•ç±»ä¼¼è¿­ä»£å™¨ä¸€æ ·ï¼Œé‚£ä¹ˆå®ƒçš„å¯è§‚å¯Ÿæ€§ä½“ç°åœ¨å“ªé‡Œå‘¢ï¼Ÿå¸¸è§„çš„è§‚å¯Ÿè€…æ¨¡å¼å®ç°æ–¹æ³•æœ‰ "),a("code",[t._v("Object.defineProperty")]),t._v(" å’Œ "),a("code",[t._v("Proxy")]),t._v("ï¼Œæ˜¾ç„¶ RxJS ä¸¤è€…éƒ½ä¸æ˜¯ã€‚")]),t._v(" "),a("p",[t._v("å®˜æ–¹çš„è§£é‡Šæ˜¯ RxJS å®ç°äº†ä¸€ç§æ•°æ®æ¨é€æœºåˆ¶ã€‚"),a("strong",[t._v("ä»€ä¹ˆæ˜¯æ¨é€ï¼Ÿ")]),t._v(" - åœ¨æ¨é€ä½“ç³»ä¸­ï¼Œç”±ç”Ÿäº§è€…æ¥å†³å®šä½•æ—¶æŠŠæ•°æ®å‘é€ç»™æ¶ˆè´¹è€…ã€‚æ¶ˆè´¹è€…æœ¬èº«ä¸çŸ¥é“ä½•æ—¶ä¼šæ¥æ”¶åˆ°æ•°æ®ã€‚")]),t._v(" "),a("p",[t._v("RxJS å¼•å…¥äº† Observablesï¼Œä¸€ä¸ªæ–°çš„ JavaScript æ¨é€ä½“ç³»ã€‚Observable æ˜¯å¤šä¸ªå€¼çš„ç”Ÿäº§è€…ï¼Œå¹¶å°†å€¼â€œæ¨é€â€ç»™è§‚å¯Ÿè€…(æ¶ˆè´¹è€…)ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("subscribe")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("observable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  observable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¾“å‡º hello world")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3s åè¾“å‡º hellow world")]),t._v("\n")])])]),a("p",[a("strong",[t._v("unsubscribe")])]),t._v(" "),a("p",[t._v("subscribe æ–¹æ³•è¿”å›ä¸€ä¸ª subscriptionï¼Œsubscription ä¸Šé¢æœ‰ä¸ª unsubscribe æ–¹æ³•ï¼Œç”¨äºå–æ¶ˆè®¢é˜…")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" observable "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Rx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Observable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("from")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" subscription "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" observable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¨åï¼š")]),t._v("\nsubscription"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("unsubscribe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("Observable æ˜¯æƒ°æ€§è¿ç®—ï¼Œåªæœ‰åœ¨æ¯ä¸ªè§‚å¯Ÿè€…è®¢é˜…åæ‰ä¼šæ‰§è¡Œ")]),t._v(" "),a("p",[a("strong",[t._v("Observer")])]),t._v(" "),a("p",[t._v("RxJS é‡Œé¢è§‚å¯Ÿè€…å³æ¶ˆè´¹è€…")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" observer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Observer got a next value: '")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Observer got an error: '")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("complete")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Observer got a complete notification'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nobservable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("observer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("strong",[t._v("subject")])]),t._v(" "),a("p",[t._v("Subject åƒæ˜¯ Observableï¼Œä½†æ˜¯å¯ä»¥å¤šæ’­ç»™å¤šä¸ªè§‚å¯Ÿè€…ã€‚Subject è¿˜åƒæ˜¯ EventEmittersï¼Œç»´æŠ¤ç€å¤šä¸ªç›‘å¬å™¨çš„æ³¨å†Œè¡¨ã€‚")]),t._v(" "),a("p",[t._v("Subject æ˜¯ Observerï¼Œå®ƒå¯ä»¥è¢« Subscribeã€‚")]),t._v(" "),a("p",[t._v("Subject å¯èƒ½æ˜¯ RxJS ä¸­æœ€éš¾ç†è§£çš„æ¦‚å¿µäº†ï¼Œå› ä¸º Subject æ—¢å¯ä»¥ä½œä¸ºä¸€ä¸ªå¯è§‚å¯Ÿå¯¹è±¡ï¼ˆObservableï¼‰å»è®¢é˜…å…¶å®ƒ Observerï¼Œä¹Ÿå¯ä»¥ä½œä¸ºä¸€ä¸ª Observer è¢« Subscribeã€‚")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" subject "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Rx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Subject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nsubject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("v")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'observerA: '")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nsubject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("v")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'observerB: '")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nsubject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nsubject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("strong",[t._v("BehaviorSubject")])]),t._v(" "),a("p",[t._v("æœ‰åˆå§‹å€¼çš„ Subjectï¼Œå®˜æ–¹è§£é‡Šæ˜¯ï¼š")]),t._v(" "),a("blockquote",[a("p",[t._v("BehaviorSubjects é€‚åˆç”¨æ¥è¡¨ç¤ºâ€œéšæ—¶é—´æ¨ç§»çš„å€¼â€ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œç”Ÿæ—¥çš„æµæ˜¯ä¸€ä¸ª Subjectï¼Œä½†å¹´é¾„çš„æµåº”è¯¥æ˜¯ä¸€ä¸ª BehaviorSubject ã€‚")])]),t._v(" "),a("p",[t._v("ç®€ç›´äº†ï¼Œå°±ä¸èƒ½ç»™ Subject åŠ ä¸ªåˆå§‹å€¼ä¹ˆ ğŸ¤¦â€ï¼Œéè¦å¼ºåŠ ä¸€ä¸ªæ¦‚å¿µã€‚")]),t._v(" "),a("h2",{attrs:{id:"operators-æ“ä½œç¬¦"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#operators-æ“ä½œç¬¦"}},[t._v("#")]),t._v(" Operators - æ“ä½œç¬¦")]),t._v(" "),a("blockquote",[a("p",[t._v("æ“ä½œç¬¦æ˜¯å‡½æ•°ï¼Œå®ƒåŸºäºå½“å‰çš„ Observable åˆ›å»ºä¸€ä¸ªæ–°çš„ Observableã€‚è¿™æ˜¯ä¸€ä¸ªæ— å‰¯ä½œç”¨çš„æ“ä½œï¼šå‰é¢çš„ Observable ä¿æŒä¸å˜ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"å…³äºæµ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…³äºæµ"}},[t._v("#")]),t._v(" å…³äºæµ")]),t._v(" "),a("p",[a("strong",[t._v("è®¡ç®—æœºä¸­çš„æµåˆ†ä¸ºäºŒè¿›åˆ¶æµå’Œæ–‡æœ¬æµ")])]),t._v(" "),a("ul",[a("li",[t._v('æ–‡æœ¬æµæ˜¯è§£é‡Šæ€§çš„ï¼Œæœ€é•¿å¯è¾¾ 255 ä¸ªå­—ç¬¦ï¼Œå…¶ä¸­å›è½¦/æ¢è¡Œå°†è¢«è½¬æ¢ä¸ºæ¢è¡Œç¬¦â€œ\\nâ€ï¼Œï¼ˆå¦‚æœä»¥"æ–‡æœ¬"æ–¹å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œé‚£ä¹ˆåœ¨è¯»å­—ç¬¦çš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šæŠŠæ‰€æœ‰çš„"\\r\\n"åºåˆ—è½¬æˆ"\\n"ï¼Œåœ¨å†™å…¥æ—¶æŠŠ"\\n"è½¬æˆ"\\r\\n"ï¼‰ã€‚æ³¨ï¼š \\n ä¸€èˆ¬ä¼šæ“ä½œç³»ç»Ÿè¢«ç¿»è¯‘æˆ"è¡Œçš„ç»“æŸ"ï¼Œå³ LF(Line-Feed)ï¼› \\r ä¼šè¢«ç¿»è¯‘æˆ"å›è½¦"ï¼Œå³ CR(Cariage-Return)')]),t._v(" "),a("li",[t._v("è€ŒäºŒè¿›åˆ¶æµæ˜¯éè§£é‡Šæ€§çš„ï¼Œä¸€æ¬¡å¤„ç†ä¸€ä¸ªå­—ç¬¦ï¼Œå¹¶ä¸”ä¸è½¬æ¢å­—ç¬¦ã€‚")])]),t._v(" "),a("p",[a("strong",[t._v("æµçš„ç‰¹æ€§")])]),t._v(" "),a("ul",[a("li",[t._v("å¤šä¸ªæµå¯åˆå¹¶æˆä¸€ä¸ªæµ")]),t._v(" "),a("li",[t._v("ä¸€ä¸ªæµå¯æ‹†åˆ†æˆå¤šä¸ªæµ")]),t._v(" "),a("li",[t._v("å¯åœ¨ç®¡é“ä¸­å¤„ç†")])]),t._v(" "),a("p",[a("strong",[t._v("RxJS ä¸­çš„æµ")])]),t._v(" "),a("ul",[a("li",[t._v("åªæ˜¯å¼•ç”¨äº†æµçš„æ¦‚å¿µï¼Œå¹¶éäºŒè¿›åˆ¶æµå’Œæ–‡æœ¬æµ")])])])}),[],!1,null,null,null);s.default=e.exports}}]);